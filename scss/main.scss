// Font family
@import url("https://fonts.googleapis.com/css2?family=Asul:wght@400;700&display=swap");

$ff: "Asul", serif !important;

// Custom bootstrap theme colors
// Material Design Color Palette
$primary: #009688; // For main CTAs
$primary-variant: #00796b; // For gradients
$secondary: rgba(63, 81, 181, 0.16); // Subtle accents
$secondary-solid: #3f51b5; // Solid version for text
$success: #4caf50;
$danger: #f44336;
$background: #121212;
$surface: #1e1e1e; // Cards, Modals
$surface-variant: #2d2d2d; // Accordions, dropdowns

// Text Colors
$on-primary: #ffffff;
$on-secondary: #000000;
$on-background: rgba(255, 255, 255, 0.87);
$on-surface: rgba(255, 255, 255, 0.6);
$on-surface-muted: rgba(255, 255, 255, 0.38); // Disabled/placeholder text

// Bootstrap theme colors must be modified before imports
// as both functions and variables imports use these values
@import "../node_modules/bootstrap/scss/functions";
// Variables import use functions, so it is imported in the current order
@import "../node_modules/bootstrap/scss/variables";

$custom-theme-colors: (
  "primary": $primary,
  "primary-variant": $primary-variant,
  "secondary": $secondary,
  "success": $success,
  "danger": $danger,
  "background": $background,
  "surface": $surface,
  "surface-variant": $surface-variant,
  "on-primary": $on-primary,
  "on-secondary": $on-secondary,
  "on-background": $on-background,
  "on-surface": $on-surface,
  "on-surface-muted": $on-surface-muted,
);

$theme-colors: map-merge($custom-theme-colors, $theme-colors);

// Bootstrap import must come after theme colors or any other imports are defined
@import "../node_modules/bootstrap/scss/bootstrap";

/* 
----------------------------------------------------------------
 Custom styles
----------------------------------------------------------------
*/

// CSS reset
ul,
ol {
  list-style: none;
  padding-left: 0;
}

img,
figure,
picture,
svg {
  display: block;
  max-width: 100%;
  height: auto;
  object-fit: cover;
}

// Base styles
body {
  background-color: $background;
  color: $on-background;
  font-family: $ff;
  caret-color: map-get($custom-theme-colors, "primary");

  // For firefox
  scrollbar-width: thin;
  scrollbar-color: $primary map-get($custom-theme-colors, "dark");
}

// Selection styles
::selection {
  background-color: $primary;
  color: map-get($custom-theme-colors, "on-primary");
}

// Scrollbar styles for webkit browsers
::-webkit-scrollbar {
  width: 4px;
}

::-webkit-scrollbar-track {
  background-color: map-get($custom-theme-colors, "dark");
}

::-webkit-scrollbar-thumb {
  background-color: $primary;
  border-radius: 2px;
}

// Utilities
header {
  background-color: rgba($primary, 0.08);
  backdrop-filter: blur(30px);
}

[data-nav-link] {
  --bs-nav-link-color: #{map-get($custom-theme-colors, "on-background")};
  --bs-nav-link-hover-color: #{$secondary};

  color: var(--bs-nav-link-color);
  transition: color 250ms ease-in-out;

  &:where(:hover, :focus-visible) {
    color: var(--bs-nav-link-hover-color);
  }
}

.bg-primary-gradient {
  background: linear-gradient(135deg, $primary 0%, $primary-variant 100%);
}

.footer-gradient {
  background: linear-gradient(45deg, $primary-variant 0%, $primary 100%);
}

.text-gradient {
  background: linear-gradient(45deg, $primary 30%, $secondary-solid 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  display: inline-block;
}

.card {
  background-color: $surface-variant;
  border: 1px solid rgba($on-background, 0.12);

  .card-header {
    background: linear-gradient(90deg, $primary 0%, rgba($primary, 0.8) 100%);
    color: $on-primary;
    border-bottom: none;
  }
}

.btn-secondary {
  background-color: $secondary;
  border-color: rgba($secondary-solid, 0.3);
  color: $secondary-solid;

  &:where(:hover, :focus-visible) {
    background-color: rgba($secondary-solid, 0.1);
  }
}

.btn-secondary {
  background-color: $secondary;
  color: $on-secondary;
  border: 1px solid darken($secondary, 10%);

  &:where(:hover, :focus-visible) {
    background-color: darken($secondary, 10%);
  }
}

.form-control,
.form-select {
  background-color: $surface-variant;
  border: 1px solid rgba($on-background, 0.15);

  &:focus {
    border-color: $primary;
    box-shadow: 0 0 0 0.25rem rgba($primary, 0.25);
  }
}

[data-offcanvas-trigger-link] {
  color: $on-background;

  display: flex;
  align-items: center;
  gap: 0.25rem;

  transition: color 250ms ease-in-out;

  &:where(:hover, :focus-visible) {
    color: $secondary;
  }
}

.text-muted {
  color: $on-surface-muted !important;
}

.hero {
  height: calc(100dvh - 56px); /* subtract header height */
  background: linear-gradient(45deg, $primary-variant 0%, $primary 100%);
  color: $on-primary;

  .text-secondary-txt {
    color: rgba($on-primary, 0.7) !important;
  }
}

.accordion-item {
  background-color: $surface-variant;

  .accordion-button {
    background-color: $surface-variant;
    color: $on-background;

    &:not(.collapsed) {
      background-color: rgba($secondary, 0.1);
      color: $secondary;
    }
  }
}

.section {
  padding-block: 60px;
}

footer {
  background: linear-gradient(45deg, $primary-variant 0%, $primary 100%);
  color: $on-primary;
}

// Custom form validation styles
.invalid-feedback {
  display: none;
  color: $danger;
  font-size: 0.875rem;
  margin-top: 0.25rem;
}

.invalid {
  border-color: $danger !important;

  &:focus {
    box-shadow: 0 0 0 0.25rem rgba($danger, 0.25) !important;
  }
}

// Responsiveness
@media screen and (max-width: 480px) {
  h1 {
    font-size: 1.75rem;
  }

  .display-2 {
    font-size: 2.5rem;
  }

  .display-4 {
    font-size: 2rem;
  }

  .display-5 {
    font-size: 1.5rem;
  }

  .lead {
    font-size: 1rem;
  }

  p {
    font-size: 0.9rem;
  }
}
